<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Videos</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />

    <style>
        body {
            background-color: #005e88;
            padding: 10px;
        }

        .back-btn {
            cursor: pointer;
            font-size: 28px;
            background: #004d6b;
            color: #fff;
            padding: 6px 12px;
            border-radius: 6px;
            display: inline-block;
            margin-bottom: 15px;
        }

        .category-title-bar {
            background: #004d6b;
            color: white;
            text-align: center;
            padding: 12px;
            font-size: 22px;
            font-weight: bold;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .video-card {
            background: white;
            border-radius: 8px;
            border: 3px solid #002f3f;
            cursor: pointer;
            overflow: hidden;
            transition: 0.3s;
        }

        .video-card:hover {
            transform: scale(1.03);
        }

        .video-thumb-box {
            position: relative;
            border: 2px solid black;
            background: white;
            padding: 4px;
            cursor: pointer;
        }

        .video-thumb {
            width: 100%;
            height: 280px;
            object-fit: contain;
        }

        .video-title {
            background: #004d6b;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 17px;
            font-weight: 600;
            min-height: 60px;
        }

        .play-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 60px;
            background: rgba(0, 0, 0, 0.45);
            color: white;
            border-radius: 50%;
            pointer-events: none;
            width: 80px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .d-none {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container mt-3">
        <div onclick="goBack()" class="pb-4"><img src="assets/images/backIcon.png" width="50px" height="50px" /></div>

        <div id="catTitle" class="category-title-bar"></div>

        <div id="videosList" class="row"></div>
    </div>

    <script src="assets/customJs/constants.js"></script>
    <script>
        // Get category id from URL
        const urlParams = new URLSearchParams(window.location.search);
        const catId = urlParams.get("cat");

        // Show category title
        const currentCat = categories.find((c) => c.id === catId);
        document.getElementById("catTitle").innerText = currentCat.subHeading;

        // Load videos
        let html = "";
        if (videosData[catId]) {
            videosData[catId].forEach((v) => {

                const file = v.file;
                const title = v.title;
                const thumbnail = v.thumbnail || "assets/images/no-video.png"; // fallback image

                html += `
        <div class="col-lg-4 col-md-6 col-12 mb-4">
            <div class="video-card" onclick="playVideo('${file}', '${title}')">
                <div class="video-thumb-box position-relative">
                    <img src="${thumbnail}" class="video-thumb" />
                     <div class="play-icon">
                     <img src="assets/images/playIcon.png" /></div>
                </div>
                <div class="video-title">${title}</div>
            </div>
        </div>`;
            });
        }
        document.getElementById("videosList").innerHTML = html;

        function goBack() {
            window.history.back();
        }

        function playVideo(file, title) {
            window.location.href = `player.html?file=${encodeURIComponent(file)}&title=${encodeURIComponent(title)}`;
        }
    </script>
</body>

</html>